# 1

## 将虚拟 DOM 转化为真实 DOM

```jsx
var vnode = {
  tag: 'DIV',
  attrs: {
    id: 'app',
  },
  children: [
    {
      tag: 'SPAN',
      children: [{ tag: 'A', children: [] }],
    },
    {
      tag: 'SPAN',
      children: [
        { tag: 'A', children: ['2', '2'] },
        { tag: 'A', children: ['3', '3'] },
      ],
    },
  ],
};

// 把上述虚拟 DOM 转化成下方真实 DOM
<div id='app'>
  <span>
    <a></a>
  </span>
  <span>
    <a></a>
    <a></a>
  </span>
</div>;
```

```js
function render(vnode) {
  if (typeof vnode === 'number') {
    vnode = String(vnode);
  }

  if (typeof vnode === 'string') {
    return document.createTextNode(vnode);
  }

  const element = document.createElement(vnode.tag);

  if (vnode.attrs) {
    const attrs = vnode.attrs;
    Object.keys(attrs).forEach(key => {
      const value = attrs[key];
      element.setAttribute(key, value);
    });
  }

  vnode.children &&
    vnode.children.forEach(node => {
      element.appendChild(render(node));
    });

  return element;
}
```
